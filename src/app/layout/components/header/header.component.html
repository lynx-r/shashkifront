<div [hidden]="loading">
  <mat-toolbar class="toolbar" fxLayout="row" fxLayoutAlign="space-between center">
    <div fxLayout="row" fxLayoutGap.gt-xs="10px" fxLayoutGap.lt-sm="4px">
      <button mat-button
              routerLink="/article/list"
              routerLinkActive="active"
              title="Все разборы"
      >
        Разборы
      </button>
      <button fxHide.lt-sm
              mat-button
              routerLink="/mission"
              routerLinkActive="active"
              title="Миссия"
      >
        Миссия
      </button>
    </div>
    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap.gt-xs="10px" fxLayoutGap.lt-sm="4px">
      <button (click)="document.location.reload()" *ngIf="isStandalone" mat-icon-button>
        <mat-icon>
          refresh
        </mat-icon>
      </button>
      <button (click)="location.back()" *ngIf="isStandalone" fxHide.gt-xs mat-icon-button title="Создать разбор">
        <mat-icon>
          arrow_back
        </mat-icon>
      </button>
      <button (click)="openCreateArticleDialog()" *ngIf="loggedIn" fxHide.lt-sm mat-button title="Создать разбор">
        <mat-icon>
          add_circle
        </mat-icon>
        <span>
          Создать разбор
        </span>
      </button>
      <button (click)="openCreateArticleDialog()" *ngIf="loggedIn" fxHide.gt-xs mat-icon-button title="Создать разбор">
        <mat-icon>
          add_circle
        </mat-icon>
      </button>
      <button *ngIf="!loggedIn" fxHide.lt-sm mat-button routerLink="/contribute/Register" routerLinkActive="active"
              title="Миссия">
        Регистрация
      </button>
      <button *ngIf="!loggedIn" mat-button routerLink="/contribute/SignIn" routerLinkActive="active"
              title="Миссия">
        Войти
      </button>
      <button *ngIf="loggedIn" [matMenuTriggerFor]="menu" fxHide.lt-sm mat-button>
        <mat-icon>account_circle</mat-icon>
        <span fxHide.lt-sm>
          {{user.firstName + ' ' + user.lastName}}
        </span>
      </button>
      <button *ngIf="loggedIn" [matMenuTriggerFor]="menu" fxHide.gt-xs mat-icon-button>
        <mat-icon>account_circle</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button *ngIf="loggedIn"
                mat-menu-item
                routerLink="/article/list-author"
                routerLinkActive="active"
                title="Мои разборы">
          <mat-icon>mode_edit</mat-icon>
          Мои разборы
        </button>
        <mat-divider></mat-divider>
        <button (click)="onThemeChange(false)" [class.active]="user?.theme === 'default'" mat-menu-item>
          <mat-icon>wb_sunny</mat-icon>
          <span>Светлая тема</span>
        </button>
        <button (click)="onThemeChange(true)" [class.active]="user?.theme !== 'default'" mat-menu-item>
          <mat-icon>wb_incandescent</mat-icon>
          <span>Тёмная тема</span>
        </button>
        <mat-divider></mat-divider>
        <button (click)="onLogout()" mat-menu-item title="Выйти">
          <mat-icon>exit_to_app</mat-icon>
          <span>Выйти</span>
        </button>
      </mat-menu>
      <button *ngIf="!loggedIn" [matMenuTriggerFor]="themeMenu"
              mat-icon-button>
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #themeMenu="matMenu">
        <button (click)="onThemeChange(false)" [class.active]="user?.theme === 'default'" mat-menu-item>
          <mat-icon>wb_sunny</mat-icon>
          <span>Светлая тема</span>
        </button>
        <button (click)="onThemeChange(true)" [class.active]="user?.theme !== 'default'" mat-menu-item>
          <mat-icon>wb_incandescent</mat-icon>
          <span>Тёмная тема</span>
        </button>
      </mat-menu>
    </div>
  </mat-toolbar>
</div>
